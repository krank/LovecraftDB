body {
    margin: 0;
    height: 100vh;
    display: grid;

    grid-template-columns:
        minmax(0, auto)
        minmax(auto, 640px)
        minmax(auto, 320px)
        minmax(0, auto);
    grid-template-rows: 3.5em 1fr;

    grid-template-areas:
        ". toolbar meta ."
        ". text meta .";

    background-color: #f5f5f5;

    background-image: url("../media/tentacles.png"), url("../media/tentacles.png");
    background-position: top left, top right;
    background-repeat: no-repeat;
}

section.toolbar {
    grid-area: toolbar;
    padding: 1em 2em 0em 2em;
    background-color: #fff;

    display: grid;
    grid-template-columns: auto min-content;
}

section.toolbar button {
    display: flex;
    background-color: #eeeeee;
    border: 0;
    padding: 0;
    cursor: pointer;
    font-size: 1em;
    vertical-align: middle;
    width: 2em;
    height: 2em;
    border-radius: 0.25em;
    justify-content: center;
}

section.toolbar button img {
    width: 1em;
}

section.toolbar button:hover {
    background-color: #cccccc;
}

section.toolbar section {
    display: flex;
}

section.toolbar section.file-management button {
    margin-left: 0.25em;
}

main {
    grid-area: text;
    padding: 0em 2em 3em 2em;
    background-color: #fff;
    display: flex;
    flex-direction: column;
}

main textarea {
    display: block;
    box-sizing: border-box;
}

main textarea.summary {
    min-height: 4em;
    resize: vertical;
}

main textarea.text {
    flex-grow: 1;
    resize: none;
}

section.metadata {
    grid-area: meta;

    background-color: #eeeeee;
    padding: 1em 2em 1em 2em;
    overflow-y: auto;
}

h2 {
    font-size: 0.75em;
    background-color: #cccccc;
    padding: 0.5em;
    margin: 0;
    margin-top: 1em;
}

.xmlwarning::after {
    content: " Invalid XML warning";
    text-transform: uppercase;
}

section.metadata label {
    display: block;
    margin-bottom: 0.5em;
    margin-top: 0.25em;
}

section.metadata label span {
    display: block;
    font-size: 0.75em;
}

section.metadata label input {
    width: 100%;
    box-sizing: border-box;
}

section.metadata textarea {
    width: 100%;
    box-sizing: border-box;
    min-height: 4em;
    resize: vertical;
}

/* #region Dialog */

dialog.big {
    width: 90vw;
    max-width: 960px;
    height: 80vh;
    overflow-y: auto;
    box-shadow: 0.3em 0.3em 0.3em rgba(0, 0, 0, 0.3);
    border: none;
}

dialog.big > section {
    display: flex;
    flex-direction: column;
    height: 100%;
}

dialog.big header {
    display: flex;
}

dialog.big header h2 {
    flex-grow: 1;
}

dialog.big header button {
    margin-top: 1em;
    border: none;
    background-color: #000;
    color: #fff;
    cursor: pointer;
    padding: 0.5em;
    font-size: 0.75em;
    width: 2em;
}

dialog.big header button:hover {
    background-color: #555555;
}

/* #endregion */

/* #region Dialog search box */

dialog.big form.search-box {
    padding: 1em;
    display: flex;
}

dialog.big form.search-box input,
dialog.big form.search-box button {
    font-size: 1.5em;
}

dialog.big form.search-box button {
    background: #cccccc;
    border: none;
    padding: 0.3em;
}

/* #endregion */

/* #region Dialog search results */
dialog.big form.search-results {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

dialog.big section.results {
    flex-grow: 1;
    padding-left: 1em;
}

dialog.big section.results label {
    display: flex;
    cursor: pointer;
    padding-left: 0.5em;
}

dialog.big section.results label:hover {
    background-color: #ccc;
}

dialog.big section.results label span.fas {
    opacity: 0.2;
    line-height: 2;
}

dialog.big section.results input[type="radio"] {
    display: none;
}

dialog.big section.results span.title {
    display: block;
    line-height: 2em;
    margin-bottom: 0.25em;
    padding-left: 0.75em;
}

dialog.big section.results input:checked + span.fas {
    opacity: 1;
}
/* #endregion */

/* #region Dialog buttons */

dialog section.buttons {
    text-align: right;
    padding-right: 0.5em;
    border-top: 1px solid #ccc;
    padding-top: 0.5em;
}

dialog section.buttons button::before {
    margin-right: 0.5em;
}

dialog section.buttons button {
    background-color: transparent;
    border: 1px solid #ccc;
    padding: 1em 2em;
    cursor: pointer;
    margin-left: 1em;
}

dialog section.buttons button:hover {
    background-color: #ccc;
}
/* #endregion */

@media screen and (max-width: 800px) {
    body {
        grid-template-columns: 100%;
        /*grid-template-columns:
            minmax(0, auto)
            minmax(auto, 640px)
            minmax(auto, 320px)
            minmax(0, auto);*/
        grid-template-rows: auto 1fr;

        grid-template-areas:
            "toolbar"
            "meta"
            "text";
    }

    section.metadata {
        padding-left: 1em;
        padding-right: 1em;
        padding-top: 0.5em;
        margin-right: 0;
        overflow-y: visible;
    }

    section.toolbar {
        padding-bottom: 1em;
        top: 0;
        box-sizing: border-box;
        position: sticky;
    }

    main textarea.text {
        min-height: 20em;
        resize: vertical;
    }

    main {
        box-sizing: border-box;
        padding-left: 1em;
        padding-right: 1em;
    }
}
